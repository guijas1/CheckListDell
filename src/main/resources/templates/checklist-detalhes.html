<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalhes do Checklist</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container my-5">
    <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <h3 class="mb-0">ğŸ“ Detalhes do Checklist</h3>
            <a href="/checklists" class="btn btn-outline-light btn-sm">â®œ Voltar</a>
        </div>
        <div class="card-body">

            <div class="row mb-3">
                <div class="col-md-6">
                    <strong>ID:</strong> <span th:text="${checklist.id}"></span><br>
                    <strong>Modelo:</strong> <span th:text="${checklist.modelo}"></span><br>
                    <strong>PatrimÃ´nio:</strong> <span th:text="${checklist.patrimonio}"></span><br>
                </div>
                <div class="col-md-6">
                    <strong>Service Tag:</strong> <span th:text="${checklist.serviceTag}"></span><br>
                    <strong>Data:</strong>
                    <span th:text="${checklist.dataCriacao != null ? checklist.dataCriacao.toString() : 'â€”'}"></span>
                </div>
            </div>

            <hr>
            <h5 class="mb-3">âœ”ï¸ Respostas do Checklist</h5>
            <ul class="list-group mb-4">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Liga normalmente
                    <span th:text="${checklist.liga} != null ? (checklist.liga ? 'Sim' : 'NÃ£o') : 'â€”'" class="fw-bold"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Tela apresenta imagem
                    <span th:text="${checklist.telaFunciona} != null ? (checklist.telaFunciona ? 'Sim' : 'NÃ£o') : 'â€”'" class="fw-bold"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Teclado funcionando
                    <span th:text="${checklist.tecladoFunciona} != null ? (checklist.tecladoFunciona ? 'Sim' : 'NÃ£o') : 'â€”'" class="fw-bold"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Wi-Fi conecta corretamente
                    <span th:text="${checklist.wifiFunciona} != null ? (checklist.wifiFunciona ? 'Sim' : 'NÃ£o') : 'â€”'" class="fw-bold"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    CarcaÃ§a sem avarias
                    <span th:text="${checklist.carcaca} != null ? (checklist.carcaca ? 'Sim' : 'NÃ£o') : 'â€”'" class="fw-bold"></span>
                </li>
            </ul>

            <h5>ğŸ—’ï¸ ObservaÃ§Ãµes</h5>
            <p th:text="${checklist.observacoes ?: 'Sem observaÃ§Ãµes.'}" class="border rounded p-2 bg-white"></p>

            <h5 class="mt-4">ğŸ“¸ Fotos Anexadas</h5>
            <div th:if="${checklist.fotoPath != null and !checklist.fotoPath.isEmpty()}">
                <div class="d-flex flex-wrap gap-3 mt-2">
                    <div th:each="foto : ${checklist.fotoPath}">
                        <img th:src="${foto}" alt="Foto do checklist" class="img-thumbnail" style="max-width: 200px;">
                    </div>
                </div>
            </div>
            <div th:if="${checklist.fotoPath == null or checklist.fotoPath.isEmpty()}" class="text-muted mt-2">
                Nenhuma imagem foi anexada.
            </div>
            <div th:if="${checklist.fotoPath == null}" class="text-muted mt-2">
                Nenhuma imagem foi anexada.
            </div>

            <div class="mt-4 d-flex justify-content-end gap-2">
                <a th:href="@{'/checklists/' + ${checklist.id} + '/exportar'}" class="btn btn-outline-primary">ğŸ“„ Exportar PDF</a>
                <form th:action="@{'/checklists/' + ${checklist.id} + '/deletar'}" method="post"
                      onsubmit="return confirm('Tem certeza que deseja excluir este checklist?');">
                    <button type="submit" class="btn btn-outline-danger">ğŸ—‘ï¸ Excluir Checklist</button>
                </form>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
